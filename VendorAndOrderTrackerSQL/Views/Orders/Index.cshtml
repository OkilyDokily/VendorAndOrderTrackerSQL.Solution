@using VendorAndOrderTrackerSQL.Models;

@{
  Layout = "_Layout";
}
 
<h2>Name: @Model.Name</h2>
<h4>Description: @Model.Description</h4>

<h3>Orders for this vendor</h3>
<ul>
@foreach (Order item in Model.GetOrders())
{
    <li><a href=@("/Vendor/" +ViewContext.RouteData.Values["id"] + "/Order/" + item.Id)>@item.Title</a></li>
}
</ul>

<div><a href=@("/Vendor/" +  ViewContext.RouteData.Values["id"] + "/Order/new" )>Add an order to this vendor</a></div>
<div><a href=@("/Vendor/" +  ViewContext.RouteData.Values["id"] + "/edit" )>Edit this vendor</a></div>

<div class="buttons">
  <form action=@("/Vendor/" + ViewContext.RouteData.Values["id"] + "/delete" ) method="post">
  <button type="submit" class="btn btn-danger">Delete this vendor</button>
  </form>
  <form action=@("/Vendor/" + ViewContext.RouteData.Values["id"] +"/Order/delete" ) method="post">
  <button type="submit" class="btn btn-danger">Delete all orders from this vendor</button>
  </form>
</div>
